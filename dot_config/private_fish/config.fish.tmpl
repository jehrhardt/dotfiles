if status is-interactive
    alias l="eza --all --icons --long --git"

    set -gx EDITOR nvim

    {{ if eq .chezmoi.os "linux" }}source "$HOME/.cargo/env.fish"{{ end }}
    atuin init fish | source
    mise activate fish | source
    zoxide init fish | source
    chezmoi completion fish | source
    starship init fish | source

    # Setup dynamic aliases and completions for ~/.local/tools Python scripts
    if test -d ~/.local/tools
        for script in ~/.local/tools/*.py
            set -l script_name (basename $script .py)
            set -l script_upper (string upper $script_name | string replace -a '-' '_' | string replace -a '.' '_')
            alias $script_name="uv run $script"
        end
    end
end
